.param devtp
.param vdd_drain
.param vdd_gate
.param vd_lin
.param scale_normalize
.param normalize_size

.param vdd1_drain='vdd_drain*devtp'
.param vdd1_gate='vdd_gate*devtp'
.param vd_lin1='vd_lin*devtp'
.param vgsweep=0

.dc vgsweep 0 vdd1_gate vdd1_gate

xM~ D~ G~ 0 0 model_name dev_param
VDS~ D~ 0 vd_lin1
VGS~ G~ 0 vgsweep

.meas dc idlin_ld~ find '-devtp*i(VDS~)/<NFIN>/scale_normalize*1e6' when v(G~,0)=vdd1_gate         $unit(uA/fin)
